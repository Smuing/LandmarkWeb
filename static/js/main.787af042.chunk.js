(this["webpackJsonplandmark-web"]=this["webpackJsonplandmark-web"]||[]).push([[0],{45:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n.n(a),c=n(37),o=n.n(c),r=(n(45),n(12)),s=n(23),l=n.n(s),d=n(28),p=n(8),b=n(6),u=n(7),j=n(29),x=n(15),g=n(19);g.a.initializeApp({apiKey:"AIzaSyDqsR_WtqY5NSxcohxVJVTt_hxn8W6gKug",authDomain:"landmark-daf63.firebaseapp.com",projectId:"landmark-daf63",storageBucket:"landmark-daf63.appspot.com",messagingSenderId:"879075086357",appId:"1:879075086357:web:9fd5763c6f960de3cc7e1c",measurementId:"G-CKLNRWLSQD"}),g.a.analytics();var h=g.a.auth,O=g.a.storage(),m=g.a.firestore;function f(e,t){return h().createUserWithEmailAndPassword(e,t)}function v(e,t){return h().signInWithEmailAndPassword(e,t)}var k,w,y,N,S,I,C=n(3),z=u.b.div(k||(k=Object(b.a)(["\n  max-width: 600px;\n  margin: 0 auto;\n  text-align: center;\n"]))),U=u.b.div(w||(w=Object(b.a)(["\n  position: absolute;\n  display: flex;\n  align-items: center;\n  border: 1px solid black;\n  padding: 5px;\n  border-radius: 25px;\n  margin-top: 10px;\n  font-size: 15px;\n  cursor: pointer;\n"]))),E=u.b.img(y||(y=Object(b.a)(["\n  width: 200px;\n  margin: 0 auto;\n  margin: 50px 0 20px;\n"]))),F=u.b.form(N||(N=Object(b.a)(["\n  position: relative;\n  width: 60%;\n  margin: 30px auto 0;\n\n  & p {\n    margin-top: 10px;\n    position: absolute;\n    right: 0;\n    text-decoration: dashed;\n  }\n"]))),P=u.b.input(S||(S=Object(b.a)(["\n  width: 100%;\n  border: 2px black solid;\n  border-radius: 20px;\n  font-size: 17px;\n  padding: 10px 15px;\n  margin-bottom: 10px;\n  outline: none;\n  box-sizing: border-box;\n"]))),A=u.b.button(I||(I=Object(b.a)(["\n  margin-top: 10px;\n  width: 100%;\n  border: 2px black solid;\n  border-radius: 20px;\n  padding: 10px 15px;\n  font-size: 17px;\n"])));var L,D,q,R,M,W,_=function(){var e=Object(r.e)(),t=Object(a.useState)(""),n=Object(p.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)(""),s=Object(p.a)(o,2),b=s[0],u=s[1],g=Object(a.useState)(""),O=Object(p.a)(g,2),v=O[0],k=O[1],w=function(e){var t=e.target.name;"email"===t?c(e.target.value):"password"===t?u(e.target.value):"id"===t&&k(e.target.value)},y=function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""===i||""===b){t.next=13;break}return t.prev=2,t.next=5,f(i,b);case 5:return t.next=7,(a={displayName:v,photoURL:"https://firebasestorage.googleapis.com/v0/b/landmark-daf63.appspot.com/o/defaultPhoto.png?alt=media&token=b7386266-5255-4bbc-af07-b41d49988d2d"},h().currentUser.updateProfile(a)).then((function(){var t=h().currentUser;if(null!==t){var n=t.uid;m().collection("users").doc(n).set({posts:[]}).then((function(){m().collection("like").doc(n).set({new:null}).then((function(){e.push("/")}))}))}})).catch((function(e){console.log(e)}));case 7:t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),"auth/email-already-in-use"===t.t0.code&&alert("\uc774 \uc774\uba54\uc77c \uc8fc\uc18c\ub294 \uc774\ubbf8 \ub2e4\ub978 \uacc4\uc815\uc5d0\uc11c \uc0ac\uc6a9 \uc911\uc785\ub2c8\ub2e4.");case 13:case"end":return t.stop()}var a}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsxs)(z,{children:[Object(C.jsxs)(U,{onClick:function(){return window.history.back(),!1},children:[Object(C.jsx)(j.a,{}),"\xa0 \ub4a4\ub85c\uac00\uae30"]}),Object(C.jsx)(E,{src:"img/joinlogo.png",alt:"LOGO"}),Object(C.jsx)("hr",{}),Object(C.jsxs)(F,{onSubmit:y,children:[Object(C.jsx)(P,{type:"email",placeholder:"\uc774\uba54\uc77c",name:"email",value:i,onChange:w,required:!0}),Object(C.jsx)(P,{type:"text",placeholder:"\uc544\uc774\ub514",name:"id",value:v,onChange:w,pattern:"^([A-Za-z0-9_]){6,20}$",title:"\uc544\uc774\ub514\ub294 \ucd5c\uc18c 6\uc790\ub9ac\uc5d0\uc11c \ucd5c\ub300 20\uc790\ub9ac\uae4c\uc9c0 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4. (\uc601\ubb38, \uc22b\uc790, _)",required:!0}),Object(C.jsx)(P,{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638",name:"password",value:b,onChange:w,pattern:"^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@!%#&])[A-Za-z\\d@!%#&]{8,16}$",title:"\ube44\ubc00\ubc88\ud638\ub294 \ucd5c\uc18c 8\uc790\ub9ac\uc5d0\uc11c \ucd5c\ub300 16\uc790\ub9ac\uae4c\uc9c0 \uc22b\uc790, \uc601\ubb38, \ud2b9\uc218\ubb38\uc790(@!%#&) \uac01 1\uac1c \uc774\uc0c1 \ud3ec\ud568\ud574\uc57c\ud569\ub2c8\ub2e4.",required:!0}),Object(C.jsx)(P,{type:"password",pattern:b,title:"\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",placeholder:"\ube44\ubc00\ubc88\ud638 \uc7ac\uc785\ub825",required:!0}),Object(C.jsx)(A,{type:"submit",children:"\ud68c\uc6d0\uac00\uc785"}),Object(C.jsx)(x.b,{to:"/login",children:Object(C.jsx)("p",{children:"\ub85c\uadf8\uc778"})})]})]})},G=u.b.div(L||(L=Object(b.a)(["\n  max-width: 600px;\n  margin: 0 auto;\n  text-align: center;\n"]))),B=u.b.div(D||(D=Object(b.a)(["\n  position: absolute;\n  display: flex;\n  align-items: center;\n  border: 1px solid black;\n  padding: 5px;\n  border-radius: 25px;\n  margin-top: 10px;\n  font-size: 15px;\n  cursor: pointer;\n"]))),J=u.b.img(q||(q=Object(b.a)(["\n  width: 200px;\n  margin: 0 auto;\n  margin: 50px 0 20px;\n"]))),K=u.b.form(R||(R=Object(b.a)(["\n  position: relative;\n  width: 60%;\n  margin: 30px auto 0;\n\n  & p {\n    margin-top: 10px;\n    position: absolute;\n    right: 0;\n    text-decoration: dashed;\n  }\n"]))),T=u.b.input(M||(M=Object(b.a)(["\n  width: 100%;\n  border: 2px black solid;\n  border-radius: 20px;\n  font-size: 17px;\n  padding: 10px 15px;\n  margin-bottom: 10px;\n  outline: none;\n  box-sizing: border-box;\n"]))),V=u.b.button(W||(W=Object(b.a)(["\n  margin-top: 10px;\n  width: 100%;\n  border: 2px black solid;\n  border-radius: 20px;\n  padding: 10px 15px;\n  font-size: 17px;\n"])));var Z,$,Q=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(""),o=Object(p.a)(c,2),r=o[0],s=o[1],b=function(e){var t=e.target.name;"email"===t?i(e.target.value):"password"===t&&s(e.target.value)},u=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===n||""===r){e.next=12;break}return e.prev=2,e.next=5,v(n,r).then(g.a.auth().setPersistence(g.a.auth.Auth.Persistence.SESSION).then((function(){g.a.auth().onAuthStateChanged((function(e){if(e)return window.location.href="/"}))})));case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0),"auth/wrong-password"===e.t0.code&&alert("\uc798\ubabb\ub41c \ube44\ubc00\ubc88\ud638\uc785\ub2c8\ub2e4."),"auth/user-not-found"===e.t0.code&&alert("\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uc0ac\uc6a9\uc790\uc785\ub2c8\ub2e4.");case 12:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)(G,{children:[Object(C.jsxs)(B,{onClick:function(){return window.history.back(),!1},children:[Object(C.jsx)(j.a,{}),"\xa0 \ub4a4\ub85c\uac00\uae30"]}),Object(C.jsx)(J,{src:"img/loginlogo.png",alt:"LOGO"}),Object(C.jsx)("hr",{}),Object(C.jsxs)(K,{onSubmit:u,children:[Object(C.jsx)(T,{type:"email",placeholder:"\uc774\uba54\uc77c",name:"email",onChange:b,required:!0}),Object(C.jsx)(T,{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638",name:"password",onChange:b,required:!0}),Object(C.jsx)(V,{type:"submit",children:"\ub85c\uadf8\uc778"}),Object(C.jsx)(x.b,{to:"/join",children:Object(C.jsx)("p",{children:"\ud68c\uc6d0\uac00\uc785"})})]})]})};n(56),u.b.div(Z||(Z=Object(b.a)(["\n  max-width: 1000px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  margin-top: 50px;\n"]))),u.b.div($||($=Object(b.a)(["\n  width: 450px;\n"])));n(57);var Y,H,X,ee=u.b.div(Y||(Y=Object(b.a)(["\n  display: flex;\n  & p {\n    padding: 5px;\n    margin: 5px;\n    cursor: pointer;\n  }\n  & p:hover {\n    background-color: #5292f3d0;\n    border-radius: 30px;\n    color: white;\n  }\n"]))),te=u.b.div(H||(H=Object(b.a)(["\n  max-width: 1000px;\n  margin: 0 auto;\n  padding-top: 10px;\n"]))),ne=u.b.input(X||(X=Object(b.a)(["\n  border: 1px solid black;\n  border-radius: 15px;\n  padding: 5px 10px;\n  outline: none;\n"])));var ae,ie,ce,oe,re,se,le,de,pe=function(){var e=Object(r.e)(),t=Object(a.useState)(!1),n=Object(p.a)(t,2),i=n[0],c=n[1];Object(a.useEffect)((function(){h().onAuthStateChanged((function(e){c(!!e)}))}),[]);var o=Object(a.useState)(!1),s=Object(p.a)(o,2),l=s[0],d=s[1],b=Object(a.useState)(""),u=Object(p.a)(b,2),j=u[0],g=u[1],O=function(t){e.push({pathname:"/search",state:{type:"category",userInput:t.target.id}})};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(te,{children:[Object(C.jsxs)("div",{className:"main",children:[Object(C.jsx)(x.b,{to:"/",children:Object(C.jsx)("img",{src:"img/title-logo.png",alt:"LOGO",className:"logo-img"})}),Object(C.jsx)("form",{onSubmit:function(t){t.preventDefault(),e.push({pathname:"/search",state:{type:"search",userInput:j}})},children:Object(C.jsx)(ne,{type:"search",className:"search",value:j,onChange:function(e){g(e.target.value)},placeholder:"\uac80\uc0c9"})}),!i&&Object(C.jsxs)("div",{className:"login",children:[Object(C.jsx)(x.b,{to:"/login",className:"login-btn",children:Object(C.jsx)("p",{children:"\ub85c\uadf8\uc778"})}),Object(C.jsx)(x.b,{to:"join",children:Object(C.jsx)("div",{className:"signup-btn",children:Object(C.jsx)("p",{children:"\ud68c\uc6d0\uac00\uc785"})})})]}),i&&Object(C.jsxs)("div",{className:"login",children:[Object(C.jsx)(x.b,{to:"/mypage",className:"login-btn",children:Object(C.jsx)("p",{children:"\ub9c8\uc774\ud398\uc774\uc9c0"})}),Object(C.jsx)("div",{className:"signup-btn",onClick:function(){h().signOut(),window.location.reload()},children:Object(C.jsx)("p",{children:"\ub85c\uadf8\uc544\uc6c3"})})]})]}),Object(C.jsxs)("div",{className:"menu",children:[Object(C.jsx)("div",{className:"upload-btn",onMouseOver:function(){d(!0)},onMouseOut:function(){d(!1)},style:l?{boxShadow:"inset 0 -3px 0 0 #5292f3d0"}:{boxShadow:"none"},children:"\uce74\ud14c\uace0\ub9ac"}),i&&Object(C.jsx)(x.b,{to:"/post",children:Object(C.jsx)("div",{className:"upload-btn",children:"\uae00\uc4f0\uae30"})})]}),Object(C.jsxs)(ee,{style:l?{display:"flex"}:{display:"none"},onMouseOver:function(){d(!0)},onMouseOut:function(){d(!1)},children:[Object(C.jsx)("p",{onClick:O,id:"\uc544\uc2dc\uc544",children:"\uc544\uc2dc\uc544"}),Object(C.jsx)("p",{onClick:O,id:"\uc544\ud504\ub9ac\uce74",children:"\uc544\ud504\ub9ac\uce74"}),Object(C.jsx)("p",{onClick:O,id:"\uc720\ub7fd",children:"\uc720\ub7fd"}),Object(C.jsx)("p",{onClick:O,id:"\uc544\uba54\ub9ac\uce74",children:"\uc544\uba54\ub9ac\uce74"}),Object(C.jsx)("p",{onClick:O,id:"\uc624\uc138\uc544\ub2c8\uc544",children:"\uc624\uc138\uc544\ub2c8\uc544"})]})]}),Object(C.jsx)("hr",{})]})},be=n(21),ue=n(30),je=u.b.div(ae||(ae=Object(b.a)(["\n  width: 440px;\n  padding: 5px;\n  border-radius: 15px;\n\n  &:hover {\n    background-color: #e9ecef;\n  }\n"]))),xe=u.b.div(ie||(ie=Object(b.a)(["\n  display: flex;\n  margin-bottom: 10px;\n\n  & .profileImg {\n    width: 50px;\n    border-radius: 50%;\n  }\n"]))),ge=u.b.div(ce||(ce=Object(b.a)(["\n  margin-left: 10px;\n\n  & .title {\n    font-weight: bold;\n    font-size: 20px;\n  }\n  & .category {\n    font-size: 15px;\n  }\n"]))),he=u.b.div(oe||(oe=Object(b.a)(["\n  border: 1px solid #495057;\n  background-color: #dee2e6;\n  border-radius: 10px;\n  height: 250px;\n  ","\n"])),(function(e){return e.image&&Object(u.a)(re||(re=Object(b.a)(["\n      background-image: url(",");\n      background-size: cover;\n      background-repeat: no-repeat;\n      background-position: center;\n    "])),e.image)})),Oe=u.b.div(se||(se=Object(b.a)(["\n  margin: 5px 0;\n\n  & textarea {\n    width: 100%;\n    height: 45px;\n    max-height: 70px;\n    min-height: 20px;\n    max-width: 100%;\n    min-width: 100%;\n    border: none;\n    background-color: inherit;\n  }\n"]))),me=u.b.div(le||(le=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n\n  & .like-btn {\n    width: 50px;\n    height: 20px;\n    border: 1px solid black;\n    border-radius: 10px;\n    margin-right: 10px;\n    display: flex;\n    align-items: center;\n    padding: 0 5px;\n    cursor: pointer;\n  }\n  ","\n\n  & .lookPost {\n    display: flex;\n\n    & p {\n      cursor: pointer;\n      user-select: none;\n    }\n  }\n"])),(function(e){return e.check&&Object(u.a)(de||(de=Object(b.a)(["\n      & .like-btn {\n        background: #5292f3d0;\n        color: white;\n      }\n    "])))}));var fe,ve=function(e){var t=e.id,n=e.profileImgUrl,i=e.title,c=e.category,o=e.image,s=e.text,l=e.likeNum,d=Object(r.e)(),b=Object(a.useState)(null),u=Object(p.a)(b,2),j=u[0],x=u[1],g=Object(a.useState)(!1),O=Object(p.a)(g,2),f=O[0],v=O[1];Object(a.useEffect)((function(){x(h().currentUser)}),[]),Object(a.useEffect)((function(){null!=j&&m().collection("like").doc(j.uid).get().then((function(e){try{v(e.data()[t].like)}catch(n){m().collection("like").doc(j.uid).set(Object(be.a)({},t,{like:!1}))}}))}),[t,j]);var k=Object(a.useState)(l),w=Object(p.a)(k,2),y=w[0],N=w[1];return Object(C.jsxs)(je,{children:[Object(C.jsxs)(xe,{children:[Object(C.jsx)("img",{src:n,alt:"ProfileImage",className:"profileImg"}),Object(C.jsxs)(ge,{children:[Object(C.jsx)("p",{className:"title",children:i}),Object(C.jsx)("p",{className:"category",children:c})]})]}),Object(C.jsx)(he,{image:o}),Object(C.jsx)(Oe,{children:Object(C.jsx)("textarea",{value:s,readOnly:!0})}),Object(C.jsxs)(me,{check:f,children:[Object(C.jsxs)("div",{className:"like-btn",onClick:function(){null===j?alert("\ub85c\uadf8\uc778 \ud6c4 \uc774\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."):(v(!f),f?(N((function(e){return e-1})),m().collection("like").doc(j.uid).update(Object(be.a)({},t,{like:!1})),m().collection("post").doc(t).update({likeNum:y-1})):(N((function(e){return e+1})),m().collection("like").doc(j.uid).update(Object(be.a)({},t,{like:!0})),m().collection("post").doc(t).update({likeNum:y+1})))},children:[Object(C.jsx)(ue.a,{}),y]}),Object(C.jsx)("div",{className:"lookPost",onClick:function(){d.push({pathname:"/postpage",state:{type:"postId",postId:t,likeNum:y}})},children:Object(C.jsx)("p",{children:"\uc790\uc138\ud788\ubcf4\uae30"})})]})]})},ke=u.b.div(fe||(fe=Object(b.a)(["\n  max-width: 1000px;\n  margin: 0 auto 10px;\n  margin-top: 50px;\n  display: grid;\n  grid-template-columns: repeat(2, 450px);\n  grid-row-gap: 40px;\n  justify-content: space-between;\n"])));var we,ye,Ne,Se,Ie,Ce,ze,Ue=function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),n=t[0],i=t[1],c=Object(a.useCallback)((function(){var e=[];m().collection("post").get().then((function(t){t.forEach((function(t){e.push({post:t.data(),id:t.id})})),i((function(t){return t.concat(e)}))}))}),[]);return Object(a.useEffect)((function(){c()}),[c]),Object(C.jsx)(ke,{children:n.map((function(e){return Object(C.jsx)(ve,{id:e.id,profileImgUrl:e.post.profileImgUrl,title:e.post.title,category:e.post.category,image:e.post.image,text:e.post.text,likeNum:e.post.likeNum,dislikeNum:e.post.dislikeNum},e.id)}))})},Ee=u.b.div(we||(we=Object(b.a)(["\n  max-width: 1000px;\n  margin: 0 auto;\n  margin-top: 50px;\n"]))),Fe=u.b.div(ye||(ye=Object(b.a)(["\n  display: flex;\n  margin-bottom: 10px;\n\n  & .profileImg {\n    width: 100px;\n    border-radius: 50%;\n  }\n"]))),Pe=u.b.div(Ne||(Ne=Object(b.a)(["\n  margin-left: 20px;\n\n  & input {\n    border: 1px solid black;\n    border-radius: 25px;\n    padding: 0 10px;\n  }\n  & .title {\n    font-weight: bold;\n    font-size: 25px;\n    margin-bottom: 10px;\n  }\n  & .category {\n    font-size: 20px;\n  }\n"]))),Ae=u.b.div(Se||(Se=Object(b.a)(["\n  border: 1px solid black;\n  border-radius: 10px;\n  height: 300px;\n  margin-bottom: 10px;\n\n  ","\n"])),(function(e){return e.image&&Object(u.a)(Ie||(Ie=Object(b.a)(["\n      background-image: url(",");\n      background-size: contain;\n      background-repeat: no-repeat;\n      background-position: center;\n    "])),e.image)})),Le=u.b.textarea(Ce||(Ce=Object(b.a)(["\n  max-width: 450px;\n  max-height: 300px;\n  width: 450px;\n"]))),De=u.b.div(ze||(ze=Object(b.a)(["\n  width: 100%;\n  margin-top: 40px;\n  display: flex;\n\n  & button {\n    margin: 0 auto;\n    width: 100px;\n    height: 40px;\n  }\n"])));var qe,Re=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(""),o=Object(p.a)(c,2),r=o[0],s=o[1];Object(a.useEffect)((function(){h().onAuthStateChanged((function(e){e?(i(e.uid),s(e.photoURL)):window.location.href="/"}))}),[]);var l=Object(a.useState)(""),d=Object(p.a)(l,2),b=d[0],u=d[1],j=["\uc544\uc2dc\uc544","\uc544\ud504\ub9ac\uce74","\uc720\ub7fd","\uc544\uba54\ub9ac\uce74","\uc624\uc138\uc544\ub2c8\uc544"],x=Object(a.useState)(j[0]),g=Object(p.a)(x,2),f=g[0],v=g[1],k=Object(a.useState)(""),w=Object(p.a)(k,2),y=w[0],N=w[1],S=Object(a.useState)(null),I=Object(p.a)(S,2),z=I[0],U=I[1],E=Object(a.useState)(""),F=Object(p.a)(E,2),P=F[0],A=F[1],L=function(e){var t=e.target.name;if("imgFile"===t){var n=new FileReader;n.onloadend=function(){var e=n.result;e&&A(e.toString())},e.target.files[0]&&(n.readAsDataURL(e.target.files[0]),U(e.target.files[0]))}else"text"===t?N(e.target.value):"category"===t?v(e.target.value):"title"===t&&u(e.target.value)};return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ee,{children:Object(C.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=O.ref("/images/".concat(z.name));t.put(z).on("state_changed",console.log,console.error,(function(){t.getDownloadURL().then((function(t){e.target.reset(),u(""),v(j[0]),N(""),A(""),U(null);var a=m().collection("post").doc();a.set({profileImgUrl:r,title:b,category:f,image:t,text:y,likeNum:0,dislikeNum:0,userId:n}),m().collection("users").doc(n).update({posts:m.FieldValue.arrayUnion(a.id)})}))}))},children:[Object(C.jsxs)(Fe,{children:[Object(C.jsx)("img",{src:"img/coro.png",alt:"ProfileImage",className:"profileImg"}),Object(C.jsxs)(Pe,{children:["\uc7a5\uc18c \uc774\ub984 \xa0",Object(C.jsx)("input",{className:"title",name:"title",value:b,onChange:L,required:!0}),Object(C.jsx)("br",{}),"\uce74\ud14c\uace0\ub9ac \xa0",Object(C.jsx)("select",{className:"category",name:"category",onChange:L,value:f,children:j.map((function(e){return Object(C.jsx)("option",{value:e,children:e},e)}))})]})]}),Object(C.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(C.jsxs)("div",{style:{width:"450px"},children:[Object(C.jsx)(Ae,{image:P}),Object(C.jsx)("input",{type:"file",name:"imgFile",id:"imgFile",onChange:L})]}),Object(C.jsx)(Le,{name:"text",placeholder:"\uae00 \ub0b4\uc6a9",value:y,onChange:L})]}),Object(C.jsx)(De,{children:Object(C.jsx)("button",{disabled:!z||""===y,children:"\uc5c5\ub85c\ub4dc"})})]})})})},Me=u.b.div(qe||(qe=Object(b.a)(["\n  max-width: 1000px;\n  margin: 0 auto 10px;\n  margin-top: 50px;\n  display: grid;\n  grid-template-columns: repeat(2, 450px);\n  grid-row-gap: 40px;\n  justify-content: space-between;\n"])));var We,_e=function(){var e=Object(r.f)().state,t=e.type,n=e.userInput;console.log(t,n);var i=Object(a.useState)([]),c=Object(p.a)(i,2),o=c[0],s=c[1],l=Object(a.useCallback)((function(){var e=[];m().collection("post").get().then((function(a){a.forEach((function(a){var i=a.data();"search"===t?i.title.includes(n)&&e.push({post:i,id:a.id}):"category"===t&&n===i.category&&e.push({post:i,id:a.id})})),s(e)}))}),[t,n]);return Object(a.useEffect)((function(){l()}),[l]),Object(C.jsx)(Me,{children:o.map((function(e){return Object(C.jsx)(ve,{id:e.id,profileImgUrl:e.post.profileImgUrl,title:e.post.title,category:e.post.category,image:e.post.image,text:e.post.text,likeNum:e.post.likeNum,dislikeNum:e.post.dislikeNum},e.id)}))})},Ge=u.b.div(We||(We=Object(b.a)(["\n  max-width: 1000px;\n  margin: 0 auto 10px;\n  margin-top: 50px;\n  display: grid;\n  grid-template-columns: repeat(2, 450px);\n  grid-row-gap: 40px;\n  justify-content: space-between;\n"])));var Be,Je,Ke,Te,Ve,Ze,$e,Qe,Ye=function(){var e=Object(r.e)(),t=Object(a.useState)(null),n=Object(p.a)(t,2),i=n[0],c=n[1];Object(a.useEffect)((function(){c(h().currentUser)}),[]);var o=Object(a.useState)([]),s=Object(p.a)(o,2),l=s[0],d=s[1],b=Object(a.useCallback)((function(){var e=[];m().collection("post").get().then((function(t){t.forEach((function(t){var n=t.data();i.uid===n.userId&&e.push({post:n,id:t.id})})),d(e)}))}),[i]);return Object(a.useEffect)((function(){null!=i&&b()}),[b,e,i]),Object(C.jsx)(Ge,{children:l.map((function(e){return Object(C.jsx)(ve,{id:e.id,profileImgUrl:e.post.profileImgUrl,title:e.post.title,category:e.post.category,image:e.post.image,text:e.post.text,likeNum:e.post.likeNum,dislikeNum:e.post.dislikeNum},e.id)}))})},He=u.b.div(Be||(Be=Object(b.a)(["\n  max-width: 1000px;\n  margin: 0 auto;\n  margin-top: 50px;\n"]))),Xe=u.b.div(Je||(Je=Object(b.a)(["\n  display: flex;\n  margin-bottom: 10px;\n\n  & .profileImg {\n    width: 100px;\n    border-radius: 50%;\n  }\n"]))),et=u.b.div(Ke||(Ke=Object(b.a)(["\n  margin-left: 20px;\n\n  & input {\n    border: 1px solid black;\n    border-radius: 25px;\n    padding: 0 10px;\n  }\n  & .title {\n    font-weight: bold;\n    font-size: 25px;\n    margin-bottom: 10px;\n  }\n  & .category {\n    font-size: 20px;\n  }\n"]))),tt=u.b.div(Te||(Te=Object(b.a)(["\n  border: 1px solid black;\n  border-radius: 10px;\n  height: 300px;\n  margin-bottom: 10px;\n\n  ","\n"])),(function(e){return e.image&&Object(u.a)(Ve||(Ve=Object(b.a)(["\n      background-image: url(",");\n      background-size: contain;\n      background-repeat: no-repeat;\n      background-position: center;\n    "])),e.image)})),nt=u.b.textarea(Ze||(Ze=Object(b.a)(["\n  max-width: 450px;\n  min-width: 450px;\n  max-height: 300px;\n  min-height: 300px;\n  width: 450px;\n"]))),at=u.b.div($e||($e=Object(b.a)(["\n  display: flex;\n\n  & .like-btn {\n    width: 50px;\n    height: 20px;\n    border: 1px solid black;\n    border-radius: 10px;\n    margin-right: 10px;\n    display: flex;\n    align-items: center;\n    padding: 0 5px;\n    cursor: pointer;\n  }\n  ","\n"])),(function(e){return e.check&&Object(u.a)(Qe||(Qe=Object(b.a)(["\n      & .like-btn {\n        background: #5292f3d0;\n        color: white;\n      }\n    "])))}));var it=function(){var e=Object(r.f)().state,t=e.type,n=e.postId,i=e.likeNum;console.log(t,n,i);var c=Object(a.useState)(null),o=Object(p.a)(c,2),s=o[0],l=o[1],d=Object(a.useCallback)((function(){var e;m().collection("post").doc(n).get().then((function(t){var n=t.data();e={post:n,id:t.id},l(e)}))}),[n]);Object(a.useEffect)((function(){d()}),[d]);var b=Object(a.useState)(null),u=Object(p.a)(b,2),j=u[0],x=u[1],g=Object(a.useState)(!1),O=Object(p.a)(g,2),f=O[0],v=O[1];Object(a.useEffect)((function(){x(h().currentUser)}),[]),Object(a.useEffect)((function(){null!=j&&m().collection("like").doc(j.uid).get().then((function(e){try{v(e.data()[n].like)}catch(t){m().collection("like").doc(j.uid).set(Object(be.a)({},n,{like:!1}))}}))}),[n,j]);var k=Object(a.useState)(i),w=Object(p.a)(k,2),y=w[0],N=w[1];return Object(C.jsx)(C.Fragment,{children:s&&Object(C.jsxs)(He,{children:[Object(C.jsxs)(Xe,{children:[Object(C.jsx)("img",{src:s.post.profileImgUrl,alt:"ProfileImage",className:"profileImg"}),Object(C.jsxs)(et,{children:[Object(C.jsx)("p",{className:"title",children:s.post.title}),Object(C.jsx)("p",{className:"category",children:s.post.category})]})]}),Object(C.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(C.jsx)("div",{style:{width:"450px"},children:Object(C.jsx)(tt,{image:s.post.image})}),Object(C.jsx)(nt,{name:"text",placeholder:"\uae00 \ub0b4\uc6a9",value:s.post.text,readOnly:!0})]}),Object(C.jsx)(at,{check:f,children:Object(C.jsxs)("div",{className:"like-btn",onClick:function(){null===j?alert("\ub85c\uadf8\uc778 \ud6c4 \uc774\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."):(v(!f),f?(N((function(e){return e-1})),m().collection("like").doc(j.uid).update(Object(be.a)({},n,{like:!1})),m().collection("post").doc(n).update({likeNum:y-1})):(N((function(e){return e+1})),m().collection("like").doc(j.uid).update(Object(be.a)({},n,{like:!0})),m().collection("post").doc(n).update({likeNum:y+1})))},children:[Object(C.jsx)(ue.a,{}),y]})})]})})};function ct(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ue,{})})}var ot=function(){var e=Object(r.f)();return Object(C.jsxs)("div",{children:["/login"===e.pathname||"/join"===e.pathname?null:Object(C.jsx)(pe,{}),Object(C.jsx)(r.a,{path:"/login",component:Q}),Object(C.jsx)(r.a,{path:"/join",component:_}),Object(C.jsx)(r.a,{path:"/",exact:!0,component:ct}),Object(C.jsx)(r.a,{path:"/post",component:Re}),Object(C.jsx)(r.a,{path:"/search",component:_e}),Object(C.jsx)(r.a,{path:"/mypage",component:Ye}),Object(C.jsx)(r.a,{path:"/postpage",component:it})]})},rt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),c(e),o(e)}))};o.a.render(Object(C.jsx)(i.a.StrictMode,{children:Object(C.jsx)(x.a,{children:Object(C.jsx)(ot,{})})}),document.getElementById("root")),rt()}},[[58,1,2]]]);
//# sourceMappingURL=main.787af042.chunk.js.map